<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.njpes.www.dao.consultcenter.WarningStudentMapper">
  <resultMap id="BaseResultMap" type="com.njpes.www.entity.consultcenter.WarningStudent">
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Sun Jul 05 15:46:18 CST 2015.
    -->
    <result column="id" jdbcType="BIGINT" property="id" />
    <result column="xm" jdbcType="VARCHAR" property="xm" />
    <result column="xbm" javaType="string" jdbcType="CHAR" property="xbm" />
    <result column="sfzjh" jdbcType="VARCHAR" property="sfzjh" />
    <result column="nj" jdbcType="VARCHAR" property="nj" />
    <result column="bh" jdbcType="VARCHAR" property="bh" />
    <result column="bjmch" jdbcType="VARCHAR" property="bjmch" />
    <result column="njmc" jdbcType="VARCHAR" property="njmc" />
    <result column="title" jdbcType="VARCHAR" property="title" />
    <result column="scale_id" jdbcType="INTEGER" property="scaleId" />
    <result column="ok_time" jdbcType="TIMESTAMP" property="okTime" />
    <result column="questionnum" jdbcType="INTEGER" property="questionnum" />
    <result column="iswarnsure" jdbcType="TINYINT" property="iswarnsure" />
    <result column="warning_grade" jdbcType="INTEGER" property="warningGrade" />
    <result column="orgid" jdbcType="INTEGER" property="orgid" />
    <result column="groupid" jdbcType="INTEGER" property="groupid" />
  </resultMap>
  <insert id="insert" parameterType="com.njpes.www.entity.consultcenter.WarningStudent">
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Sun Jul 05 15:46:18 CST 2015.
    -->
    insert into view_warning_student (id, xm, xbm, sfzjh, 
      nj, bh, bjmch, njmc, 
      title, scale_id, ok_time, 
      questionnum, iswarnsure, warning_grade, 
      orgid, groupid)
    values (#{id,jdbcType=BIGINT}, #{xm,jdbcType=VARCHAR}, #{xbm,jdbcType=CHAR}, #{sfzjh,jdbcType=VARCHAR}, 
      #{nj,jdbcType=VARCHAR}, #{bh,jdbcType=VARCHAR}, #{bjmch,jdbcType=VARCHAR}, #{njmc,jdbcType=VARCHAR}, 
      #{title,jdbcType=VARCHAR}, #{scaleId,jdbcType=INTEGER}, #{okTime,jdbcType=TIMESTAMP}, 
      #{questionnum,jdbcType=INTEGER}, #{iswarnsure,jdbcType=TINYINT}, #{warningGrade,jdbcType=INTEGER}, 
      #{orgid,jdbcType=INTEGER}, #{groupid,jdbcType=INTEGER})
  </insert>
  <insert id="insertSelective" parameterType="com.njpes.www.entity.consultcenter.WarningStudent">
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Sun Jul 05 15:46:18 CST 2015.
    -->
    insert into view_warning_student
    <trim prefix="(" suffix=")" suffixOverrides=",">
      <if test="id != null">
        id,
      </if>
      <if test="xm != null">
        xm,
      </if>
      <if test="xbm != null">
        xbm,
      </if>
      <if test="sfzjh != null">
        sfzjh,
      </if>
      <if test="nj != null">
        nj,
      </if>
      <if test="bh != null">
        bh,
      </if>
      <if test="bjmch != null">
        bjmch,
      </if>
      <if test="njmc != null">
        njmc,
      </if>
      <if test="title != null">
        title,
      </if>
      <if test="scaleId != null">
        scale_id,
      </if>
      <if test="okTime != null">
        ok_time,
      </if>
      <if test="questionnum != null">
        questionnum,
      </if>
      <if test="iswarnsure != null">
        iswarnsure,
      </if>
      <if test="warningGrade != null">
        warning_grade,
      </if>
      <if test="orgid != null">
        orgid,
      </if>
      <if test="groupid != null">
        groupid,
      </if>
    </trim>
    <trim prefix="values (" suffix=")" suffixOverrides=",">
      <if test="id != null">
        #{id,jdbcType=BIGINT},
      </if>
      <if test="xm != null">
        #{xm,jdbcType=VARCHAR},
      </if>
      <if test="xbm != null">
        #{xbm,jdbcType=CHAR},
      </if>
      <if test="sfzjh != null">
        #{sfzjh,jdbcType=VARCHAR},
      </if>
      <if test="nj != null">
        #{nj,jdbcType=VARCHAR},
      </if>
      <if test="bh != null">
        #{bh,jdbcType=VARCHAR},
      </if>
      <if test="bjmch != null">
        #{bjmch,jdbcType=VARCHAR},
      </if>
      <if test="njmc != null">
        #{njmc,jdbcType=VARCHAR},
      </if>
      <if test="title != null">
        #{title,jdbcType=VARCHAR},
      </if>
      <if test="scaleId != null">
        #{scaleId,jdbcType=INTEGER},
      </if>
      <if test="okTime != null">
        #{okTime,jdbcType=TIMESTAMP},
      </if>
      <if test="questionnum != null">
        #{questionnum,jdbcType=INTEGER},
      </if>
      <if test="iswarnsure != null">
        #{iswarnsure,jdbcType=TINYINT},
      </if>
      <if test="warningGrade != null">
        #{warningGrade,jdbcType=INTEGER},
      </if>
      <if test="orgid != null">
        #{orgid,jdbcType=INTEGER},
      </if>
      <if test="groupid != null">
        #{groupid,jdbcType=INTEGER},
      </if>
    </trim>
  </insert>
  
  	<select id="selectEntityByPage" resultMap="BaseResultMap">
		select
		*
		from view_warning_student
		<where>
			1=1
			<if test="warningStudent.id != null">
				and id = #{warningStudent.id,jdbcType=BIGINT}
			</if>
			
			<if test="warningStudent.xm != null and warningStudent.xm  !=''">
				and xm like "%"#{warningStudent.xm}"%"
			</if>
			<if test="warningStudent.xbm != null and warningStudent.xbm !=''">
				and xbm = #{warningStudent.xbm,jdbcType=CHAR}
			</if>
			<if test="warningStudent.nj != null and warningStudent.nj !=''">
				and nj = #{warningStudent.nj,jdbcType=VARCHAR}
			</if>
			<if test="warningStudent.bh != null and warningStudent.bh !=''">
				and bh = #{warningStudent.bh,jdbcType=VARCHAR}
			</if>
			<if test="warningStudent.scaleId != null">
				and scaleId = #{warningStudent.scaleId,jdbcType=INTEGER}
			</if>
			<if test="warningStudent.iswarnsure != null">
				and iswarnsure = #{warningStudent.iswarnsure,jdbcType=TINYINT}
			</if>
			<if test="warningStudent.warningGrade != null">
				and warning_grade = #{warningStudent.warningGrade,jdbcType=INTEGER}
			</if>
			<if test="warningStudent.orgid != null">
				and orgid = #{warningStudent.orgid,jdbcType=INTEGER}
			</if>
			<if test="warningStudent.groupid != null">
				and groupid = #{warningStudent.groupid,jdbcType=INTEGER}
			</if>
			
			<if test="beginDate != null">
				and ok_time &gt; #{beginDate,jdbcType=TIMESTAMP}
			</if>
			<if test="endDate != null">
				and ok_time &lt; #{endDate,jdbcType=TIMESTAMP}
			</if>
		</where>
		order by ok_time desc
	</select>
</mapper>