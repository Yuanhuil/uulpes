<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.njpes.www.dao.workschedule.JobActivityRecordPsyresearchMapper">
  <resultMap id="BaseResultMap" type="com.njpes.www.entity.workschedule.JobActivityRecordPsyresearch">
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Sat Jul 18 23:19:07 CST 2015.
    -->
    <id column="id" jdbcType="BIGINT" property="id" />
    <result column="activitytype" jdbcType="VARCHAR" property="activitytype" />
    <result column="partinpersons" jdbcType="VARCHAR" property="partinpersons" />
    <result column="num" jdbcType="INTEGER" property="num" />
    <result column="level" jdbcType="VARCHAR" property="level" />
    <result column="ispublish" jdbcType="BIT" property="ispublish" />
    <result column="isreward" jdbcType="BIT" property="isreward" />
    <result column="share" jdbcType="BIT" property="share" />
    <result column="write_time" jdbcType="TIMESTAMP" property="writeTime" />
    <result column="vip_event" jdbcType="CHAR" property="vipEvent" />
    <result column="author" jdbcType="BIGINT" property="author" />
    <result column="dep" jdbcType="BIGINT" property="dep" />
    <result column="starttime" jdbcType="TIMESTAMP" property="starttime" />
    <result column="endtime" jdbcType="TIMESTAMP" property="endtime" />
    <result column="title" jdbcType="VARCHAR" property="title" />
    <result column="typename" jdbcType="VARCHAR" property="typename" />
    <result column="schoolyear" jdbcType="VARCHAR" property="schoolyear"/>
    <result column="term" jdbcType="CHAR" property="term"/>
    <result column="levelname" jdbcType="VARCHAR" property="levelname" />
  </resultMap>
  <resultMap extends="BaseResultMap" id="ResultMapWithBLOBs" type="com.njpes.www.entity.workschedule.JobActivityRecordPsyresearchWithBLOBs">
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Sat Jul 18 23:19:07 CST 2015.
    -->
    <result column="subject" jdbcType="LONGVARCHAR" property="subject" />
    <result column="content" jdbcType="LONGVARCHAR" property="content" />
    <result column="publishbooks" jdbcType="LONGVARCHAR" property="publishbooks" />
    <result column="rewards" jdbcType="LONGVARCHAR" property="rewards" />
    <result column="specialrecord" jdbcType="LONGVARCHAR" property="specialrecord" />
  </resultMap>
  <sql id="Base_Column_List">
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Sat Jul 18 23:19:07 CST 2015.
    -->
    t.id, activitytype, partinpersons, num, level, ispublish, isreward, share, write_time, 
    vip_event, author, dep, starttime, endtime, title,schoolyear,term
  </sql>
  <sql id="Blob_Column_List">
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Sat Jul 18 23:19:07 CST 2015.
    -->
    subject, content, publishbooks, rewards, specialrecord
  </sql>
  <select id="selectByPrimaryKey" parameterType="java.lang.Long" resultMap="ResultMapWithBLOBs">
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Sat Jul 18 23:19:07 CST 2015.
    -->
    select 
    <include refid="Base_Column_List" />
    ,
    <include refid="Blob_Column_List" />,x.name as levelname
    from job_activityrecord_psyresearch t
    left join dic_job_activity_researchstep x on x.id=t.level
    where t.id = #{id,jdbcType=BIGINT}
  </select>
  <delete id="deleteByPrimaryKey" parameterType="java.lang.Long">
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Sat Jul 18 23:19:07 CST 2015.
    -->
    delete from job_activityrecord_psyresearch
    where id = #{id,jdbcType=BIGINT}
  </delete>
  <insert id="insert" parameterType="com.njpes.www.entity.workschedule.JobActivityRecordPsyresearchWithBLOBs" useGeneratedKeys="true" keyProperty="id">
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Sat Jul 18 23:19:07 CST 2015.
    -->
    insert into job_activityrecord_psyresearch (id, activitytype, partinpersons, 
      num, level, ispublish, isreward, 
      share, write_time, vip_event, 
      author, dep, starttime, 
      endtime, title, subject, 
      content, publishbooks, rewards, 
      specialrecord,schoolyear,term)
    values (#{id,jdbcType=BIGINT}, #{activitytype,jdbcType=CHAR}, #{partinpersons,jdbcType=CHAR}, 
      #{num,jdbcType=INTEGER}, #{level,jdbcType=CHAR}, #{ispublish,jdbcType=BIT}, #{isreward,jdbcType=INTEGER}, 
      #{share,jdbcType=BIT}, #{writeTime,jdbcType=TIMESTAMP}, #{vipEvent,jdbcType=CHAR}, 
      #{author,jdbcType=BIGINT}, #{dep,jdbcType=BIGINT}, #{starttime,jdbcType=TIMESTAMP}, 
      #{endtime,jdbcType=TIMESTAMP}, #{title,jdbcType=VARCHAR}, #{subject,jdbcType=LONGVARCHAR}, 
      #{content,jdbcType=LONGVARCHAR}, #{publishbooks,jdbcType=LONGVARCHAR}, #{rewards,jdbcType=LONGVARCHAR}, 
      #{specialrecord,jdbcType=LONGVARCHAR},#{schoolyear,jdbcType=VARCHAR},#{term,jdbcType=CHAR})
  </insert>
  <insert id="insertSelective" parameterType="com.njpes.www.entity.workschedule.JobActivityRecordPsyresearchWithBLOBs" useGeneratedKeys="true" keyProperty="id">
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Sat Jul 18 23:19:07 CST 2015.
    -->
    insert into job_activityrecord_psyresearch
    <trim prefix="(" suffix=")" suffixOverrides=",">
      <if test="id != null">
        id,
      </if>
      <if test="activitytype != null">
        activitytype,
      </if>
      <if test="partinpersons != null">
        partinpersons,
      </if>
      <if test="num != null">
        num,
      </if>
      <if test="level != null">
        level,
      </if>
      <if test="ispublish != null">
        ispublish,
      </if>
      <if test="isreward != null">
        isreward,
      </if>
      <if test="share != null">
        share,
      </if>
      <if test="writeTime != null">
        write_time,
      </if>
      <if test="vipEvent != null">
        vip_event,
      </if>
      <if test="author != null">
        author,
      </if>
      <if test="dep != null">
        dep,
      </if>
      <if test="starttime != null">
        starttime,
      </if>
      <if test="endtime != null">
        endtime,
      </if>
      <if test="title != null">
        title,
      </if>
      <if test="subject != null">
        subject,
      </if>
      <if test="content != null">
        content,
      </if>
      <if test="publishbooks != null">
        publishbooks,
      </if>
      <if test="rewards != null">
        rewards,
      </if>
      <if test="specialrecord != null">
        specialrecord,
      </if>
       <if test="schoolyear != null">
       schoolyear,
      </if>
      <if test="term != null">
        term,
      </if>
    </trim>
    <trim prefix="values (" suffix=")" suffixOverrides=",">
      <if test="id != null">
        #{id,jdbcType=BIGINT},
      </if>
      <if test="activitytype != null">
        #{activitytype,jdbcType=CHAR},
      </if>
      <if test="partinpersons != null">
        #{partinpersons,jdbcType=CHAR},
      </if>
      <if test="num != null">
        #{num,jdbcType=INTEGER},
      </if>
      <if test="level != null">
        #{level,jdbcType=CHAR},
      </if>
      <if test="ispublish != null">
        #{ispublish,jdbcType=BIT},
      </if>
      <if test="isreward != null">
        #{isreward,jdbcType=INTEGER},
      </if>
      <if test="share != null">
        #{share,jdbcType=BIT},
      </if>
      <if test="writeTime != null">
        #{writeTime,jdbcType=TIMESTAMP},
      </if>
      <if test="vipEvent != null">
        #{vipEvent,jdbcType=CHAR},
      </if>
      <if test="author != null">
        #{author,jdbcType=BIGINT},
      </if>
      <if test="dep != null">
        #{dep,jdbcType=BIGINT},
      </if>
      <if test="starttime != null">
        #{starttime,jdbcType=TIMESTAMP},
      </if>
      <if test="endtime != null">
        #{endtime,jdbcType=TIMESTAMP},
      </if>
      <if test="title != null">
        #{title,jdbcType=VARCHAR},
      </if>
      <if test="subject != null">
        #{subject,jdbcType=LONGVARCHAR},
      </if>
      <if test="content != null">
        #{content,jdbcType=LONGVARCHAR},
      </if>
      <if test="publishbooks != null">
        #{publishbooks,jdbcType=LONGVARCHAR},
      </if>
      <if test="rewards != null">
        #{rewards,jdbcType=LONGVARCHAR},
      </if>
      <if test="specialrecord != null">
        #{specialrecord,jdbcType=LONGVARCHAR},
      </if>
      <if test="schoolyear != null">
         #{schoolyear,jdbcType=VARCHAR},
      </if>
      <if test="term != null">
        #{term,jdbcType=CHAR},
      </if>
    </trim>
  </insert>
  <update id="updateByPrimaryKeySelective" parameterType="com.njpes.www.entity.workschedule.JobActivityRecordPsyresearchWithBLOBs">
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Sat Jul 18 23:19:07 CST 2015.
    -->
    update job_activityrecord_psyresearch
    <set>
      <if test="activitytype != null">
        activitytype = #{activitytype,jdbcType=CHAR},
      </if>
      <if test="partinpersons != null">
        partinpersons = #{partinpersons,jdbcType=CHAR},
      </if>
      <if test="num != null">
        num = #{num,jdbcType=INTEGER},
      </if>
      <if test="level != null">
        level = #{level,jdbcType=CHAR},
      </if>
      <if test="ispublish != null">
        ispublish = #{ispublish,jdbcType=BIT},
      </if>
      <if test="isreward != null">
        isreward = #{isreward,jdbcType=INTEGER},
      </if>
      <if test="share != null">
        share = #{share,jdbcType=BIT},
      </if>
      <if test="writeTime != null">
        write_time = #{writeTime,jdbcType=TIMESTAMP},
      </if>
      <if test="vipEvent != null">
        vip_event = #{vipEvent,jdbcType=CHAR},
      </if>
      <if test="author != null">
        author = #{author,jdbcType=BIGINT},
      </if>
      <if test="dep != null">
        dep = #{dep,jdbcType=BIGINT},
      </if>
      <if test="starttime != null">
        starttime = #{starttime,jdbcType=TIMESTAMP},
      </if>
      <if test="endtime != null">
        endtime = #{endtime,jdbcType=TIMESTAMP},
      </if>
      <if test="title != null">
        title = #{title,jdbcType=VARCHAR},
      </if>
      <if test="subject != null">
        subject = #{subject,jdbcType=LONGVARCHAR},
      </if>
      <if test="content != null">
        content = #{content,jdbcType=LONGVARCHAR},
      </if>
      <if test="publishbooks != null">
        publishbooks = #{publishbooks,jdbcType=LONGVARCHAR},
      </if>
      <if test="rewards != null">
        rewards = #{rewards,jdbcType=LONGVARCHAR},
      </if>
      <if test="specialrecord != null">
        specialrecord = #{specialrecord,jdbcType=LONGVARCHAR},
      </if>
      <if test="schoolyear != null">
        schoolyear = #{schoolyear,jdbcType=VARCHAR},
      </if>
      <if test="term != null">
        term = #{term,jdbcType=CHAR},
      </if>
    </set>
    where id = #{id,jdbcType=BIGINT}
  </update>
  <update id="updateByPrimaryKeyWithBLOBs" parameterType="com.njpes.www.entity.workschedule.JobActivityRecordPsyresearchWithBLOBs">
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Sat Jul 18 23:19:07 CST 2015.
    -->
    update job_activityrecord_psyresearch
    set activitytype = #{activitytype,jdbcType=CHAR},
      partinpersons = #{partinpersons,jdbcType=CHAR},
      num = #{num,jdbcType=INTEGER},
      level = #{level,jdbcType=CHAR},
      ispublish = #{ispublish,jdbcType=BIT},
      isreward = #{isreward,jdbcType=INTEGER},
      share = #{share,jdbcType=BIT},
      write_time = #{writeTime,jdbcType=TIMESTAMP},
      vip_event = #{vipEvent,jdbcType=CHAR},
      author = #{author,jdbcType=BIGINT},
      dep = #{dep,jdbcType=BIGINT},
      starttime = #{starttime,jdbcType=TIMESTAMP},
      endtime = #{endtime,jdbcType=TIMESTAMP},
      title = #{title,jdbcType=VARCHAR},
      subject = #{subject,jdbcType=LONGVARCHAR},
      content = #{content,jdbcType=LONGVARCHAR},
      publishbooks = #{publishbooks,jdbcType=LONGVARCHAR},
      rewards = #{rewards,jdbcType=LONGVARCHAR},
      specialrecord = #{specialrecord,jdbcType=LONGVARCHAR},
       schoolyear = #{schoolyear,jdbcType=VARCHAR},
      term = #{term,jdbcType=CHAR}
    where id = #{id,jdbcType=BIGINT}
  </update>
  <update id="updateByPrimaryKey" parameterType="com.njpes.www.entity.workschedule.JobActivityRecordPsyresearch">
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Sat Jul 18 23:19:07 CST 2015.
    -->
    update job_activityrecord_psyresearch
    set activitytype = #{activitytype,jdbcType=CHAR},
      partinpersons = #{partinpersons,jdbcType=CHAR},
      num = #{num,jdbcType=INTEGER},
      level = #{level,jdbcType=CHAR},
      ispublish = #{ispublish,jdbcType=BIT},
      isreward = #{isreward,jdbcType=INTEGER},
      share = #{share,jdbcType=BIT},
      write_time = #{writeTime,jdbcType=TIMESTAMP},
      vip_event = #{vipEvent,jdbcType=CHAR},
      author = #{author,jdbcType=BIGINT},
      dep = #{dep,jdbcType=BIGINT},
      starttime = #{starttime,jdbcType=TIMESTAMP},
      endtime = #{endtime,jdbcType=TIMESTAMP},
      title = #{title,jdbcType=VARCHAR}
    where id = #{id,jdbcType=BIGINT}
  </update>
   <select id="findByPage" resultMap="ResultMapWithBLOBs">
  	select  t.id, activitytype, partinpersons, num, step.name as level, ispublish, isreward, share, write_time, 
    vip_event, author, dep, starttime, endtime, title,dt.name as typename,schoolyear,term
     from job_activityrecord_psyresearch t
  	left join dic_job_activity_type dt on t.activitytype = dt.id
  	<!-- left join dic_job_activity_level lev on t.level = lev.id-->
  	left join dic_job_activity_researchstep step on t.level = step.id 
  	<where>
  		<if test="entity.title != null and entity.title !=''">
  			and title like concat('%',#{entity.title,jdbcType=VARCHAR},'%')
  		</if>
  		<if test="entity.activitytype != null and entity.activitytype != '' ">
  			and activitytype = #{entity.activitytype,jdbcType=CHAR}
  		</if> 
  		<if test="entity.starttime != null ">
  			and starttime &gt;= #{entity.starttime,jdbcType=TIMESTAMP}
  		</if>
  		<if test="entity.endtime != null ">
  			and endtime &lt;= #{entity.endtime,jdbcType=TIMESTAMP}
  		</if>
  		<if test="entity.dep !=null and entity.dep >0">
  			and dep =#{entity.dep,jdbcType=BIGINT}
  		</if>		
  	</where>
  </select>
</mapper>