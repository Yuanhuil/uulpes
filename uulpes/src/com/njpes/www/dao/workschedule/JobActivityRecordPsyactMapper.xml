<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.njpes.www.dao.workschedule.JobActivityRecordPsyactMapper">
  <resultMap id="BaseResultMap" type="com.njpes.www.entity.workschedule.JobActivityRecordPsyact">
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Tue Jul 21 00:22:22 CST 2015.
    -->
    <id column="id" jdbcType="BIGINT" property="id" />
    <result column="author" jdbcType="BIGINT" property="author" />
    <result column="activitytype" jdbcType="CHAR" property="activitytype" />
    <result column="dep" jdbcType="BIGINT" property="dep" />
    <result column="level" jdbcType="CHAR" property="level" />
    <result column="speaker" jdbcType="VARCHAR" property="speaker" />
    <result column="vip_event" jdbcType="CHAR" property="vipEvent" />
    <result column="write_time" jdbcType="TIMESTAMP" property="writeTime" />
    <result column="audience" jdbcType="CHAR" property="audience" />
    <result column="starttime" jdbcType="TIMESTAMP" property="starttime" />
    <result column="endtime" jdbcType="TIMESTAMP" property="endtime" />
    <result column="num" jdbcType="INTEGER" property="num" />
    <result column="share" jdbcType="BIT" property="share" />
    <result column="typename" jdbcType="VARCHAR" property="typename" />
     <result column="schoolyear" jdbcType="VARCHAR" property="schoolyear"/>
    <result column="term" jdbcType="CHAR" property="term"/>
     <result column="levelname" jdbcType="VARCHAR" property="levelname" />
  </resultMap>
  <resultMap extends="BaseResultMap" id="ResultMapWithBLOBs" type="com.njpes.www.entity.workschedule.JobActivityRecordPsyactWithBLOBs">
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Tue Jul 21 00:22:22 CST 2015.
    -->
    <result column="title" jdbcType="LONGVARCHAR" property="title" />
    <result column="content" jdbcType="LONGVARCHAR" property="content" />
    <result column="target" jdbcType="LONGVARCHAR" property="target" />
    <result column="process" jdbcType="LONGVARCHAR" property="process" />
    <result column="specialrecord" jdbcType="LONGVARCHAR" property="specialrecord" />
  </resultMap>
  <sql id="Base_Column_List">
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Tue Jul 21 00:22:22 CST 2015.
    -->
    t.id, author, activitytype, dep, level, speaker, vip_event, write_time, audience, starttime, 
    endtime, num, share,schoolyear,term
  </sql>
  <sql id="Blob_Column_List">
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Tue Jul 21 00:22:22 CST 2015.
    -->
    title, content, target, process, specialrecord
  </sql>
  <select id="selectByPrimaryKey" parameterType="java.lang.Long" resultMap="ResultMapWithBLOBs">
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Tue Jul 21 00:22:22 CST 2015.
    -->
    select 
    <include refid="Base_Column_List" />
    ,
    <include refid="Blob_Column_List" />,x.name as levelname
    from job_activityrecord_psyact t
    left join dic_job_activity_level x on t.level = x.id
    where t.id = #{id,jdbcType=BIGINT}
  </select>
  <delete id="deleteByPrimaryKey" parameterType="java.lang.Long">
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Tue Jul 21 00:22:22 CST 2015.
    -->
    delete from job_activityrecord_psyact
    where id = #{id,jdbcType=BIGINT}
  </delete>
  <insert id="insert" parameterType="com.njpes.www.entity.workschedule.JobActivityRecordPsyactWithBLOBs" useGeneratedKeys="true" keyProperty="id">
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Tue Jul 21 00:22:22 CST 2015.
    -->
    insert into job_activityrecord_psyact (id, author, activitytype, 
      dep, level, speaker, vip_event, 
      write_time, audience, starttime, 
      endtime, num, share, 
      title, content, target, 
      process, specialrecord,schoolyear,term)
    values (#{id,jdbcType=BIGINT}, #{author,jdbcType=BIGINT}, #{activitytype,jdbcType=CHAR}, 
      #{dep,jdbcType=BIGINT}, #{level,jdbcType=CHAR}, #{speaker,jdbcType=VARCHAR}, #{vipEvent,jdbcType=CHAR}, 
      #{writeTime,jdbcType=TIMESTAMP}, #{audience,jdbcType=CHAR}, #{starttime,jdbcType=TIMESTAMP}, 
      #{endtime,jdbcType=TIMESTAMP}, #{num,jdbcType=INTEGER}, #{share,jdbcType=BIT}, 
      #{title,jdbcType=LONGVARCHAR}, #{content,jdbcType=LONGVARCHAR}, #{target,jdbcType=LONGVARCHAR}, 
      #{process,jdbcType=LONGVARCHAR}, #{specialrecord,jdbcType=LONGVARCHAR},#{schoolyear,jdbcType=VARCHAR},#{term,jdbcType=CHAR})
  </insert>
  <insert id="insertSelective" parameterType="com.njpes.www.entity.workschedule.JobActivityRecordPsyactWithBLOBs" useGeneratedKeys="true" keyProperty="id">
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Tue Jul 21 00:22:22 CST 2015.
    -->
    insert into job_activityrecord_psyact
    <trim prefix="(" suffix=")" suffixOverrides=",">
      <if test="id != null">
        id,
      </if>
      <if test="author != null">
        author,
      </if>
      <if test="activitytype != null">
        activitytype,
      </if>
      <if test="dep != null">
        dep,
      </if>
      <if test="level != null">
        level,
      </if>
      <if test="speaker != null">
        speaker,
      </if>
      <if test="vipEvent != null">
        vip_event,
      </if>
      <if test="writeTime != null">
        write_time,
      </if>
      <if test="audience != null">
        audience,
      </if>
      <if test="starttime != null">
        starttime,
      </if>
      <if test="endtime != null">
        endtime,
      </if>
      <if test="num != null">
        num,
      </if>
      <if test="share != null">
        share,
      </if>
      <if test="title != null">
        title,
      </if>
      <if test="content != null">
        content,
      </if>
      <if test="target != null">
        target,
      </if>
      <if test="process != null">
        process,
      </if>
      <if test="specialrecord != null">
        specialrecord,
      </if>
      <if test="schoolyear != null">
        schoolyear,
      </if>
      <if test="term != null">
        term,
      </if>
    </trim>
    <trim prefix="values (" suffix=")" suffixOverrides=",">
      <if test="id != null">
        #{id,jdbcType=BIGINT},
      </if>
      <if test="author != null">
        #{author,jdbcType=BIGINT},
      </if>
      <if test="activitytype != null">
        #{activitytype,jdbcType=CHAR},
      </if>
      <if test="dep != null">
        #{dep,jdbcType=BIGINT},
      </if>
      <if test="level != null">
        #{level,jdbcType=CHAR},
      </if>
      <if test="speaker != null">
        #{speaker,jdbcType=VARCHAR},
      </if>
      <if test="vipEvent != null">
        #{vipEvent,jdbcType=CHAR},
      </if>
      <if test="writeTime != null">
        #{writeTime,jdbcType=TIMESTAMP},
      </if>
      <if test="audience != null">
        #{audience,jdbcType=CHAR},
      </if>
      <if test="starttime != null">
        #{starttime,jdbcType=TIMESTAMP},
      </if>
      <if test="endtime != null">
        #{endtime,jdbcType=TIMESTAMP},
      </if>
      <if test="num != null">
        #{num,jdbcType=INTEGER},
      </if>
      <if test="share != null">
        #{share,jdbcType=BIT},
      </if>
      <if test="title != null">
        #{title,jdbcType=LONGVARCHAR},
      </if>
      <if test="content != null">
        #{content,jdbcType=LONGVARCHAR},
      </if>
      <if test="target != null">
        #{target,jdbcType=LONGVARCHAR},
      </if>
      <if test="process != null">
        #{process,jdbcType=LONGVARCHAR},
      </if>
      <if test="specialrecord != null">
        #{specialrecord,jdbcType=LONGVARCHAR},
      </if>
      <if test="schoolyear != null">
        #{schoolyear,jdbcType=VARCHAR},
      </if>
      <if test="term != null">
        #{term,jdbcType=CHAR},
      </if>
    </trim>
  </insert>
  <update id="updateByPrimaryKeySelective" parameterType="com.njpes.www.entity.workschedule.JobActivityRecordPsyactWithBLOBs">
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Tue Jul 21 00:22:22 CST 2015.
    -->
    update job_activityrecord_psyact
    <set>
      <if test="author != null">
        author = #{author,jdbcType=BIGINT},
      </if>
      <if test="activitytype != null">
        activitytype = #{activitytype,jdbcType=CHAR},
      </if>
      <if test="dep != null">
        dep = #{dep,jdbcType=BIGINT},
      </if>
      <if test="level != null">
        level = #{level,jdbcType=CHAR},
      </if>
      <if test="speaker != null">
        speaker = #{speaker,jdbcType=VARCHAR},
      </if>
      <if test="vipEvent != null">
        vip_event = #{vipEvent,jdbcType=CHAR},
      </if>
      <if test="writeTime != null">
        write_time = #{writeTime,jdbcType=TIMESTAMP},
      </if>
      <if test="audience != null">
        audience = #{audience,jdbcType=CHAR},
      </if>
      <if test="starttime != null">
        starttime = #{starttime,jdbcType=TIMESTAMP},
      </if>
      <if test="endtime != null">
        endtime = #{endtime,jdbcType=TIMESTAMP},
      </if>
      <if test="num != null">
        num = #{num,jdbcType=INTEGER},
      </if>
      <if test="share != null">
        share = #{share,jdbcType=BIT},
      </if>
      <if test="title != null">
        title = #{title,jdbcType=LONGVARCHAR},
      </if>
      <if test="content != null">
        content = #{content,jdbcType=LONGVARCHAR},
      </if>
      <if test="target != null">
        target = #{target,jdbcType=LONGVARCHAR},
      </if>
      <if test="process != null">
        process = #{process,jdbcType=LONGVARCHAR},
      </if>
      <if test="specialrecord != null">
        specialrecord = #{specialrecord,jdbcType=LONGVARCHAR},
      </if>
      <if test="schoolyear != null">
        schoolyear = #{schoolyear,jdbcType=VARCHAR},
      </if>
      <if test="term != null">
        term = #{term,jdbcType=CHAR},
      </if>
    </set>
    where id = #{id,jdbcType=BIGINT}
  </update>
  <update id="updateByPrimaryKeyWithBLOBs" parameterType="com.njpes.www.entity.workschedule.JobActivityRecordPsyactWithBLOBs">
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Tue Jul 21 00:22:22 CST 2015.
    -->
    update job_activityrecord_psyact
    set author = #{author,jdbcType=BIGINT},
      activitytype = #{activitytype,jdbcType=CHAR},
      dep = #{dep,jdbcType=BIGINT},
      level = #{level,jdbcType=CHAR},
      speaker = #{speaker,jdbcType=VARCHAR},
      vip_event = #{vipEvent,jdbcType=CHAR},
      write_time = #{writeTime,jdbcType=TIMESTAMP},
      audience = #{audience,jdbcType=CHAR},
      starttime = #{starttime,jdbcType=TIMESTAMP},
      endtime = #{endtime,jdbcType=TIMESTAMP},
      num = #{num,jdbcType=INTEGER},
      share = #{share,jdbcType=BIT},
      title = #{title,jdbcType=LONGVARCHAR},
      content = #{content,jdbcType=LONGVARCHAR},
      target = #{target,jdbcType=LONGVARCHAR},
      process = #{process,jdbcType=LONGVARCHAR},
      specialrecord = #{specialrecord,jdbcType=LONGVARCHAR},
      schoolyear = #{schoolyear,jdbcType=VARCHAR},
      term = #{term,jdbcType=CHAR}
    where id = #{id,jdbcType=BIGINT}
  </update>
  <update id="updateByPrimaryKey" parameterType="com.njpes.www.entity.workschedule.JobActivityRecordPsyact">
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Tue Jul 21 00:22:22 CST 2015.
    -->
    update job_activityrecord_psyact
    set author = #{author,jdbcType=BIGINT},
      activitytype = #{activitytype,jdbcType=CHAR},
      dep = #{dep,jdbcType=BIGINT},
      level = #{level,jdbcType=CHAR},
      speaker = #{speaker,jdbcType=VARCHAR},
      vip_event = #{vipEvent,jdbcType=CHAR},
      write_time = #{writeTime,jdbcType=TIMESTAMP},
      audience = #{audience,jdbcType=CHAR},
      starttime = #{starttime,jdbcType=TIMESTAMP},
      endtime = #{endtime,jdbcType=TIMESTAMP},
      num = #{num,jdbcType=INTEGER},
      share = #{share,jdbcType=BIT}
    where id = #{id,jdbcType=BIGINT}
  </update>
  <select id="findByPage" resultMap="ResultMapWithBLOBs">
  	select  t.id, author, activitytype, dep, lev.name as level, speaker, vip_event, write_time, audience, starttime, 
    endtime, num, share,dt.name as typename,title,schoolyear,term
     from job_activityrecord_psyact t
  	left join dic_job_activity_type dt on t.activitytype = dt.id
  	left join dic_job_activity_level lev on t.level = lev.id
  	<where>
  		<if test="entity.title != null and entity.title !=''">
  			and title like concat('%',#{entity.title,jdbcType=VARCHAR},'%')
  		</if>
  		<if test="entity.activitytype != null and entity.activitytype != '' ">
  			and activitytype = #{entity.activitytype,jdbcType=CHAR}
  		</if> 
  		<if test="entity.speaker != null and entity.speaker != '' ">
  			and speaker like concat('%',#{entity.speaker,jdbcType=VARCHAR},'%')
  		</if> 
  		<if test="entity.audience != null and entity.audience != '' ">
  			and audience like concat('%',#{entity.audience,jdbcType=VARCHAR},'%')
  		</if>
  		<if test="entity.level != null and entity.level != '' ">
  			and level = #{entity.level,jdbcType=VARCHAR}
  		</if>	
  		<if test="entity.starttime != null ">
  			and starttime &gt;= #{entity.starttime,jdbcType=TIMESTAMP}
  		</if>
  		
  		<if test="entity.endtime != null ">
  			and endtime &lt;= #{entity.endtime,jdbcType=TIMESTAMP}
  		</if>	
  		<if test="entity.dep !=null and entity.dep >0">
  			and dep =#{entity.dep,jdbcType=BIGINT}
  		</if>			
  	</where>
  </select>
</mapper>